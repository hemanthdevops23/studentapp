node {
        tools {
           maven 'mvn3.5+'
        }
    	stage('git-clone'){
			//** git branch: 'pushyami', changelog: false, credentialsId: 'github', poll: false, url: 'https://github.com/devops090/Studentapp.git'
        		//**git branch: 'pushyami', credentialsId: 'github', url: 'https://github.com/devops090/Studentapp.git'*//
			git changelog: false, credentialsId: 'hemanthdevops23/studentapp', poll: false, url: 'https://github.com/hemanthdevops23/Studentapp.git'
	    }
    	stage('mvn-clean'){
    	        sh 'export maven_home=/etc/apache-maven-3.9.6'
                sh 'export PATH=${maven_home}/bin:${PATH}'
        		sh 'mvn clean'      
    	}
    	stage('mvn-compile'){
        		sh 'mvn compile'       
    	}
	    stage('mvn-sonar'){
        	    sh 'mvn sonar:sonar -Dsonar.projectKey=studentapp -Dsonar.host.url=http://192.168.234.132:9000 -Dsonar.login=sqp_d1b5d2cb133cd9eb10eff1534c0ae8cc38dec196'
    	}
    	stage('mvn-package'){
        		sh 'mvn package'
    	}
	stage('mvn-Deploy'){
        		sh 'mvn deploy'
    	}
 }
